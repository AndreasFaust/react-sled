{"ast":null,"code":"var _jsxFileName = \"/Users/andreasfaust/components/react-sled/components/SledImage.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useSledStore } from '../sled';\nconst defaultImage = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nconst SledImage = ({\n  image,\n  index\n}) => {\n  const [{\n    currentIndex\n  }] = useSledStore();\n  const {\n    0: src,\n    1: setSrc\n  } = useState(defaultImage);\n  const {\n    0: hasLoaded,\n    1: setHasLoaded\n  } = useState(false);\n  useEffect(() => {\n    if (image === src) return;\n\n    switch (index) {\n      case currentIndex:\n      case currentIndex - 1:\n      case currentIndex + 1:\n        setSrc(image);\n        break;\n\n      default:\n    }\n  }, [currentIndex, image, index, src]);\n\n  function onLoad() {\n    if (src !== defaultImage) {\n      setHasLoaded(true);\n    }\n  }\n\n  return __jsx(\"img\", {\n    alt: 'This is an interesting thing.',\n    src: src,\n    onLoad: onLoad,\n    style: {\n      position: 'absolute',\n      background: '#fff',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      objectFit: 'cover',\n      objectPosition: 'center',\n      transition: 'opacity 1s',\n      opacity: hasLoaded ? 1 : 0,\n      pointerEvents: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  });\n};\n\nexport default SledImage;","map":{"version":3,"sources":["/Users/andreasfaust/components/react-sled/components/SledImage.js"],"names":["React","useState","useEffect","useSledStore","defaultImage","SledImage","image","index","currentIndex","src","setSrc","hasLoaded","setHasLoaded","onLoad","position","background","top","bottom","left","right","objectFit","objectPosition","transition","opacity","pointerEvents"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,YAAT,QAA6B,SAA7B;AAEA,MAAMC,YAAY,GAAG,gFAArB;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,KAAsB;AACtC,QAAM,CAAC;AAAEC,IAAAA;AAAF,GAAD,IAAqBL,YAAY,EAAvC;AACA,QAAM;AAAA,OAACM,GAAD;AAAA,OAAMC;AAAN,MAAgBT,QAAQ,CAACG,YAAD,CAA9B;AACA,QAAM;AAAA,OAACO,SAAD;AAAA,OAAYC;AAAZ,MAA4BX,QAAQ,CAAC,KAAD,CAA1C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAII,KAAK,KAAKG,GAAd,EAAmB;;AACnB,YAAQF,KAAR;AACE,WAAKC,YAAL;AACA,WAAKA,YAAY,GAAG,CAApB;AACA,WAAKA,YAAY,GAAG,CAApB;AACEE,QAAAA,MAAM,CAACJ,KAAD,CAAN;AACA;;AACF;AANF;AAQD,GAVQ,EAUN,CAACE,YAAD,EAAeF,KAAf,EAAsBC,KAAtB,EAA6BE,GAA7B,CAVM,CAAT;;AAYA,WAASI,MAAT,GAAkB;AAChB,QAAIJ,GAAG,KAAKL,YAAZ,EAA0B;AACxBQ,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AACF;;AAED,SACE;AACE,IAAA,GAAG,EAAE,+BADP;AAEE,IAAA,GAAG,EAAEH,GAFP;AAGE,IAAA,MAAM,EAAEI,MAHV;AAIE,IAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAE,UADL;AAELC,MAAAA,UAAU,EAAE,MAFP;AAGLC,MAAAA,GAAG,EAAE,CAHA;AAILC,MAAAA,MAAM,EAAE,CAJH;AAKLC,MAAAA,IAAI,EAAE,CALD;AAMLC,MAAAA,KAAK,EAAE,CANF;AAOLC,MAAAA,SAAS,EAAE,OAPN;AAQLC,MAAAA,cAAc,EAAE,QARX;AASLC,MAAAA,UAAU,EAAE,YATP;AAULC,MAAAA,OAAO,EAAEZ,SAAS,GAAG,CAAH,GAAO,CAVpB;AAWLa,MAAAA,aAAa,EAAE;AAXV,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAoBD,CA3CD;;AA6CA,eAAenB,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useSledStore } from '../sled'\n\nconst defaultImage = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\n\nconst SledImage = ({ image, index }) => {\n  const [{ currentIndex }] = useSledStore()\n  const [src, setSrc] = useState(defaultImage)\n  const [hasLoaded, setHasLoaded] = useState(false)\n\n  useEffect(() => {\n    if (image === src) return\n    switch (index) {\n      case currentIndex:\n      case currentIndex - 1:\n      case currentIndex + 1:\n        setSrc(image)\n        break\n      default:\n    }\n  }, [currentIndex, image, index, src])\n\n  function onLoad() {\n    if (src !== defaultImage) {\n      setHasLoaded(true)\n    }\n  }\n\n  return (\n    <img\n      alt={'This is an interesting thing.'}\n      src={src}\n      onLoad={onLoad}\n      style={{\n        position: 'absolute',\n        background: '#fff',\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        objectFit: 'cover',\n        objectPosition: 'center',\n        transition: 'opacity 1s',\n        opacity: hasLoaded ? 1 : 0,\n        pointerEvents: 'none'\n      }}\n    />\n  )\n}\n\nexport default SledImage\n"]},"metadata":{},"sourceType":"module"}