{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useSledStore } from '../sled';\nvar defaultImage = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nvar SledImage = function SledImage(_ref) {\n  var image = _ref.image,\n      index = _ref.index;\n\n  var _useSledStore = useSledStore(),\n      _useSledStore2 = _slicedToArray(_useSledStore, 1),\n      currentIndex = _useSledStore2[0].currentIndex;\n\n  var _useState = useState(defaultImage),\n      src = _useState[0],\n      setSrc = _useState[1];\n\n  var _useState2 = useState(false),\n      hasLoaded = _useState2[0],\n      setHasLoaded = _useState2[1];\n\n  useEffect(function () {\n    if (image === src) return;\n\n    switch (index) {\n      case currentIndex:\n      case currentIndex - 1:\n      case currentIndex + 1:\n        setSrc(image);\n        break;\n\n      default:\n    }\n  }, [currentIndex, image, index, src]);\n\n  function onLoad() {\n    if (src !== defaultImage) {\n      setHasLoaded(true);\n    }\n  }\n\n  return __jsx(\"img\", {\n    alt: 'This is an interesting thing.',\n    src: src,\n    onLoad: onLoad,\n    style: {\n      position: 'absolute',\n      background: '#fff',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      objectFit: 'cover',\n      objectPosition: 'center',\n      transition: 'opacity 1s',\n      opacity: hasLoaded ? 1 : 0,\n      pointerEvents: 'none'\n    }\n  });\n};\n\nexport default SledImage;","map":null,"metadata":{},"sourceType":"module"}