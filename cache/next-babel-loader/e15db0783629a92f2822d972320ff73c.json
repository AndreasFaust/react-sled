{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useSledStore } from '../sled';\nconst defaultImage = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nconst SledImage = ({\n  image,\n  index\n}) => {\n  const [{\n    currentIndex\n  }] = useSledStore();\n  const {\n    0: src,\n    1: setSrc\n  } = useState(defaultImage);\n  const {\n    0: hasLoaded,\n    1: setHasLoaded\n  } = useState(false);\n  useEffect(() => {\n    if (image === src) return;\n\n    switch (index) {\n      case currentIndex:\n      case currentIndex - 1:\n      case currentIndex + 1:\n        setSrc(image);\n        break;\n\n      default:\n    }\n  }, [currentIndex, image, index, src]);\n\n  function onLoad() {\n    if (src !== defaultImage) {\n      setHasLoaded(true);\n    }\n  }\n\n  return __jsx(\"img\", {\n    alt: 'This is an interesting thing.',\n    src: src,\n    onLoad: onLoad,\n    style: {\n      position: 'absolute',\n      background: '#fff',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      objectFit: 'cover',\n      objectPosition: 'center',\n      transition: 'opacity 1s',\n      opacity: hasLoaded ? 1 : 0,\n      pointerEvents: 'none'\n    }\n  });\n};\n\nexport default SledImage;","map":null,"metadata":{},"sourceType":"module"}