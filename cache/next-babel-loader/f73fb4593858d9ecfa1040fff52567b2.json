{"ast":null,"code":"import { useRef, useEffect } from 'react';\nimport { useStateContext } from '../state';\n\nconst useInterval = (callback, interval) => {\n  const savedCallback = useRef(callback);\n  useEffect(() => {\n    savedCallback.current = callback;\n  });\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n\n    if (typeof interval === 'number') {\n      let id = setInterval(tick, interval);\n      return () => clearInterval(id);\n    }\n  }, [interval]);\n};\n\nexport default (autoPlayIntervalNew => {\n  const [{\n    pause,\n    autoPlayInterval\n  }, dispatch] = useStateContext();\n  useEffect(() => {\n    if (typeof autoPlayIntervalNew === 'number') {\n      dispatch({\n        type: 'SET_AUTOPLAY',\n        autoPlayInterval: autoPlayIntervalNew\n      });\n    } else {\n      console.warn(`Sled-Error: \"autoplay\" must be of type \"number\", not \"${typeof autoPlayIntervalNew}\".`);\n    }\n  }, [autoPlayIntervalNew]);\n  useInterval(() => {\n    dispatch({\n      type: 'NEXT'\n    });\n  }, !pause && autoPlayInterval);\n});","map":{"version":3,"sources":["/Users/andreasfaust/components/react-sled/sled/hooks/useAutoPlay.ts"],"names":["useRef","useEffect","useStateContext","useInterval","callback","interval","savedCallback","current","tick","id","setInterval","clearInterval","autoPlayIntervalNew","pause","autoPlayInterval","dispatch","type","console","warn"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;AACA,SAASC,eAAT,QAAgC,UAAhC;;AAEA,MAAMC,WAAW,GAAG,CAACC,QAAD,EAAgBC,QAAhB,KAA2C;AAC7D,QAAMC,aAAa,GAAGN,MAAM,CAACI,QAAD,CAA5B;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,aAAa,CAACC,OAAd,GAAwBH,QAAxB;AACD,GAFQ,CAAT;AAIAH,EAAAA,SAAS,CAAC,MAAM;AACd,aAASO,IAAT,GAAgB;AACdF,MAAAA,aAAa,CAACC,OAAd;AACD;;AACD,QAAI,OAAOF,QAAP,KAAoB,QAAxB,EAAkC;AAChC,UAAII,EAAE,GAAGC,WAAW,CAACF,IAAD,EAAOH,QAAP,CAApB;AACA,aAAO,MAAMM,aAAa,CAACF,EAAD,CAA1B;AACD;AACF,GARQ,EAQN,CAACJ,QAAD,CARM,CAAT;AASD,CAhBD;;AAkBA,gBAAgBO,mBAAD,IAAuC;AACpD,QAAM,CAAC;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAD,EAA8BC,QAA9B,IAA0Cb,eAAe,EAA/D;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,OAAOW,mBAAP,KAA+B,QAAnC,EAA6C;AAC3CG,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE,cAAR;AAAwBF,QAAAA,gBAAgB,EAAEF;AAA1C,OAAD,CAAR;AACD,KAFD,MAEO;AACLK,MAAAA,OAAO,CAACC,IAAR,CAAc,yDAAwD,OAAON,mBAAoB,IAAjG;AACD;AACF,GANQ,EAMN,CAACA,mBAAD,CANM,CAAT;AAQAT,EAAAA,WAAW,CAAC,MAAM;AAChBY,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACD,GAFU,EAER,CAACH,KAAD,IAAUC,gBAFF,CAAX;AAGD,CAdD","sourcesContent":["import { useRef, useEffect } from 'react'\nimport { useStateContext } from '../state'\n\nconst useInterval = (callback: any, interval: number): void => {\n  const savedCallback = useRef(callback)\n\n  useEffect(() => {\n    savedCallback.current = callback\n  })\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current()\n    }\n    if (typeof interval === 'number') {\n      let id = setInterval(tick, interval)\n      return () => clearInterval(id)\n    }\n  }, [interval])\n}\n\nexport default (autoPlayIntervalNew: number): void => {\n  const [{ pause, autoPlayInterval }, dispatch] = useStateContext()\n\n  useEffect(() => {\n    if (typeof autoPlayIntervalNew === 'number') {\n      dispatch({ type: 'SET_AUTOPLAY', autoPlayInterval: autoPlayIntervalNew })\n    } else {\n      console.warn(`Sled-Error: \"autoplay\" must be of type \"number\", not \"${typeof autoPlayIntervalNew}\".`)\n    }\n  }, [autoPlayIntervalNew])\n\n  useInterval(() => {\n    dispatch({ type: 'NEXT' })\n  }, !pause && autoPlayInterval)\n}\n"]},"metadata":{},"sourceType":"module"}